# playbook.yml
---
- name: Configure Rocky Linux VM
  hosts: rocky
  become: yes
  tasks:
    - name: Update all packages
      yum:
        name: '*'
        state: latest

    - name: Install necessary packages
      yum:
        name:
          - vim
          - git
          - curl
        state: present

    - name: Open HTTP and HTTPS ports
      firewalld:
        service: http
        permanent: yes
        state: enabled

    - name: Open SSH port
      firewalld:
        service: ssh
        permanent: yes
        state: enabled

    - name: Reload firewalld
      command: firewall-cmd --reload

